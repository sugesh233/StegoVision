<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Steganography</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
</head>
<body>
    <div class="container py-4">
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h1>
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-film me-2" viewBox="0 0 16 16">
                        <path d="M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0v6h8V1H4zm8 8H4v6h8V9zM1 1v2h2V1H1zm2 3H1v2h2V4zM1 7v2h2V7H1zm2 3H1v2h2v-2zm-2 3v2h2v-2H1zM15 1h-2v2h2V1zm-2 3v2h2V4h-2zm2 3h-2v2h2V7zm-2 3v2h2v-2h-2zm2 3h-2v2h2v-2z"/>
                    </svg>
                    Video Steganography
                </h1>
                <p class="lead">Hide secret video files within other videos using advanced steganography techniques</p>
            </div>
        </div>
        
        <!-- Flash Messages -->
        <div class="row">
            <div class="col-12">
                <div class="flash-messages">
                    {% with messages = get_flashed_messages() %}
                        {% if messages %}
                            {% for message in messages %}
                                <div class="alert alert-info alert-dismissible fade show" role="alert">
                                    {{ message }}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}
                </div>
            </div>
        </div>
        
        <!-- Nav Tabs -->
        <div class="row">
            <div class="col-12">
                <ul class="nav nav-tabs" id="stegoTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="embed-tab" data-bs-toggle="tab" data-bs-target="#embed" type="button" role="tab" aria-controls="embed" aria-selected="true">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lock-fill me-1" viewBox="0 0 16 16">
                                <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
                            </svg>
                            Embed
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="extract-tab" data-bs-toggle="tab" data-bs-target="#extract" type="button" role="tab" aria-controls="extract" aria-selected="false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-unlock-fill me-1" viewBox="0 0 16 16">
                                <path d="M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2z"/>
                            </svg>
                            Extract
                        </button>
                    </li>
                </ul>
                
                <!-- Tab Content -->
                <div class="tab-content" id="stegoTabsContent">
                    <!-- Embed Tab -->
                    <div class="tab-pane fade show active" id="embed" role="tabpanel" aria-labelledby="embed-tab">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="upload-form">
                                    <div class="form-header">
                                        <h4>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-file-earmark-lock me-2" viewBox="0 0 16 16">
                                                <path d="M10 7v1.076c.54.166 1 .597 1 1.224v2.4c0 .816-.781 1.3-1.5 1.3h-3c-.719 0-1.5-.484-1.5-1.3V9.3c0-.627.46-1.058 1-1.224V7a2 2 0 1 1 4 0zM7 7v1h2V7a1 1 0 0 0-2 0zM6 9.3v2.4c0 .042.02.107.105.175A.637.637 0 0 0 6.5 12h3a.64.64 0 0 0 .395-.125c.085-.068.105-.133.105-.175V9.3c0-.042-.02-.107-.105-.175A.637.637 0 0 0 9.5 9h-3a.637.637 0 0 0-.395.125C6.02 9.193 6 9.258 6 9.3z"/>
                                                <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 1 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                                            </svg>
                                            Hide a Secret Video
                                        </h4>
                                        <p>Upload a cover video and a secret video to hide the secret within the cover.</p>
                                    </div>
                                    
                                    <form action="{{ url_for('encrypt') }}" method="post" enctype="multipart/form-data">
                                        <div class="mb-3">
                                            <label for="coverFile" class="form-label">Cover Video (the video that will contain the hidden data)</label>
                                            <input class="form-control" type="file" id="coverFile" name="cover_file" accept=".mp4,.avi,.mov,.mkv" required>
                                            <div class="form-text">Select a video file up to 50MB. Supported formats: MP4, AVI, MOV, MKV</div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label for="secretFile" class="form-label">Secret Video (the video to hide)</label>
                                            <input class="form-control" type="file" id="secretFile" name="secret_file" accept=".mp4,.avi,.mov,.mkv" required>
                                            <div class="form-text">Select a video file up to 50MB. Supported formats: MP4, AVI, MOV, MKV</div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label for="encryptionKey" class="form-label">Encryption Key (optional)</label>
                                            <input type="text" class="form-control" id="encryptionKey" name="encryption_key" placeholder="Leave blank to generate a random key">
                                            <div class="form-text">If left blank, a random key will be generated. Save this key to extract the hidden video later.</div>
                                        </div>
                                        
                                        <div class="d-grid gap-2">
                                            <button class="btn btn-primary" type="submit">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lock-fill me-1" viewBox="0 0 16 16">
                                                    <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
                                                </svg> Embed Secret Video
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Extract Tab -->
                    <div class="tab-pane fade" id="extract" role="tabpanel" aria-labelledby="extract-tab">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="upload-form">
                                    <div class="form-header">
                                        <h4>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-file-earmark-unlock me-2" viewBox="0 0 16 16">
                                                <path d="M10 7v1.076c.54.166 1 .597 1 1.224v2.4c0 .816-.781 1.3-1.5 1.3h-3c-.719 0-1.5-.484-1.5-1.3V9.3c0-.627.46-1.058 1-1.224V7a2 2 0 1 1 4 0zm-3 1.076V7a1 1 0 0 1 2 0v1.076c-.54.166-1 .597-1 1.224v2.4c0 .816.781 1.3 1.5 1.3h3c.719 0 1.5-.484 1.5-1.3V9.3c0-.627-.46-1.058-1-1.224V7a2 2 0 0 0-4 0v.076c-.501.186-.999.616-.999 1.224v2.4c0 .816.781 1.3 1.5 1.3h3c.719 0 1.5-.484 1.5-1.3V9.3c0-.627-.46-1.058-1-1.224V7a2 2 0 0 0-2-2H9z"/>
                                                <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 1 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                                            </svg>
                                            Extract a Hidden Video
                                        </h4>
                                        <p>Upload a stego video and provide the encryption key to extract the hidden video.</p>
                                    </div>
                                    
                                    <form action="{{ url_for('decrypt') }}" method="post" enctype="multipart/form-data">
                                        <div class="mb-3">
                                            <label for="stegoFile" class="form-label">Stego Video (the video containing hidden data)</label>
                                            <input class="form-control" type="file" id="stegoFile" name="stego_file" accept=".mp4,.avi,.mov,.mkv" required>
                                            <div class="form-text">Select the video that contains the hidden data. Supported formats: MP4, AVI, MOV, MKV</div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label for="decryptionKey" class="form-label">Decryption Key</label>
                                            <input type="text" class="form-control" id="decryptionKey" name="decryption_key" required>
                                            <div class="form-text">Enter the encryption key that was used during embedding.</div>
                                        </div>
                                        
                                        <div class="d-grid gap-2">
                                            <button class="btn btn-primary" type="submit">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-unlock-fill me-1" viewBox="0 0 16 16">
                                                    <path d="M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2z"/>
                                                </svg> Extract Hidden Video
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>